apiVersion: v1
items:
  - apiVersion: v1
    data:
      k8s-cluster-rsrc-use.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:cluster_cpu_utilisation:ratio{cluster=\"$cluster\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_cpu_saturation_load1:{cluster=\"$cluster\"} / scalar(sum(min(kube_pod_info{cluster=\"$cluster\"}) by (node)))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Saturation (Load1)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:cluster_memory_utilisation:ratio{cluster=\"$cluster\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_memory_swap_io_bytes:sum_rate{cluster=\"$cluster\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Saturation (Swap I/O)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 5,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_disk_utilisation:avg_irate{cluster=\"$cluster\"} / scalar(:kube_pod_info_node_count:{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk IO Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 6,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_disk_saturation:avg_irate{cluster=\"$cluster\"} / scalar(:kube_pod_info_node_count:{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk IO Saturation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Disk",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 7,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_net_utilisation:sum_irate{cluster=\"$cluster\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Net Utilisation (Transmitted)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 8,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_net_saturation:sum_irate{cluster=\"$cluster\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Net Saturation (Dropped)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Network",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 9,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(max(node_filesystem_size_bytes{fstype=~\"ext[234]|btrfs|xfs|zfs\", cluster=\"$cluster\"} - node_filesystem_avail_bytes{fstype=~\"ext[234]|btrfs|xfs|zfs\", cluster=\"$cluster\"}) by (device,pod,namespace)) by (pod,namespace)\n/ scalar(sum(max(node_filesystem_size_bytes{fstype=~\"ext[234]|btrfs|xfs|zfs\", cluster=\"$cluster\"}) by (device,pod,namespace)))\n* on (namespace, pod) group_left (node) node_namespace_pod:kube_pod_info:{cluster=\"$cluster\"}\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{node}}",
                                    "legendLink": "/d/4ac4f123aae0ff6dbaf4f4f66120033b/k8s-node-rsrc-use",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk Capacity",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": 1,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Storage",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_node_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / USE Method / Cluster",
            "uid": "a6e7d1362e1ddbb79db21d5bb40d7137",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-cluster-rsrc-use
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-node-rsrc-use.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_cpu_utilisation:avg1m{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Utilisation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_cpu_saturation_load1:{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Saturation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Saturation (Load1)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_memory_utilisation:{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Memory",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_memory_swap_io_bytes:sum_rate{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Swap IO",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Saturation (Swap I/O)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 5,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_disk_utilisation:avg_irate{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Utilisation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk IO Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 6,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_disk_saturation:avg_irate{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Saturation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk IO Saturation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Disk",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 7,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_net_utilisation:sum_irate{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Utilisation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Net Utilisation (Transmitted)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 8,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 6,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_net_saturation:sum_irate{cluster=\"$cluster\", node=\"$node\"}",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Saturation",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Net Saturation (Dropped)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "Bps",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Net",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 9,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "node:node_filesystem_usage:{cluster=\"$cluster\"}\n* on (namespace, pod) group_left (node) node_namespace_pod:kube_pod_info:{cluster=\"$cluster\", node=\"$node\"}\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{device}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Disk Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "percentunit",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Disk",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_node_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "node",
                        "multi": false,
                        "name": "node",
                        "options": [

                        ],
                        "query": "label_values(kube_node_info{cluster=\"$cluster\"}, node)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / USE Method / Node",
            "uid": "4ac4f123aae0ff6dbaf4f4f66120033b",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-node-rsrc-use
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-resources-cluster.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "100px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "1 - avg(rate(node_cpu_seconds_total{mode=\"idle\", cluster=\"$cluster\"}[1m]))",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\"}) / sum(node:node_num_cpu:sum{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Requests Commitment",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\"}) / sum(node:node_num_cpu:sum{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Limits Commitment",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "1 - sum(:node_memory_MemFreeCachedBuffers_bytes:sum{cluster=\"$cluster\"}) / sum(:node_memory_MemTotal_bytes:sum{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Utilisation",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 5,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\"}) / sum(:node_memory_MemTotal_bytes:sum{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Requests Commitment",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        },
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "format": "percentunit",
                            "id": 6,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 2,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\"}) / sum(:node_memory_MemTotal_bytes:sum{cluster=\"$cluster\"})",
                                    "format": "time_series",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "70,80",
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Limits Commitment",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "singlestat",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Headlines",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 7,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{namespace}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 8,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Pods",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": true,
                                    "linkTooltip": "Drill down to pods",
                                    "linkUrl": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell_1",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Workloads",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": true,
                                    "linkTooltip": "Drill down to workloads",
                                    "linkUrl": "/d/a87fb0d919ec0ea5f6543124e16c42a5/k8s-resources-workloads-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell_1",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "CPU Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #G",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Namespace",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down to pods",
                                    "linkUrl": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell",
                                    "pattern": "namespace",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "count(mixin_pod_workload{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "count(avg(mixin_pod_workload{cluster=\"$cluster\"}) by (workload, namespace)) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\"}) by (namespace) / sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\"}) by (namespace) / sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "G",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Quota",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 9,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(container_memory_rss{cluster=\"$cluster\", container!=\"\"}) by (namespace)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{namespace}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage (w/o cache)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 10,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Pods",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": true,
                                    "linkTooltip": "Drill down to pods",
                                    "linkUrl": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell_1",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Workloads",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": true,
                                    "linkTooltip": "Drill down to workloads",
                                    "linkUrl": "/d/a87fb0d919ec0ea5f6543124e16c42a5/k8s-resources-workloads-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell_1",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Memory Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #G",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Namespace",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down to pods",
                                    "linkUrl": "/d/85a562078cdf77779eaa1add43ccec1e/k8s-resources-namespace?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$__cell",
                                    "pattern": "namespace",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "count(mixin_pod_workload{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "count(avg(mixin_pod_workload{cluster=\"$cluster\"}) by (workload, namespace)) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(container_memory_rss{cluster=\"$cluster\", container!=\"\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(container_memory_rss{cluster=\"$cluster\", container!=\"\"}) by (namespace) / sum(kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(container_memory_rss{cluster=\"$cluster\", container!=\"\"}) by (namespace) / sum(kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\"}) by (namespace)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "G",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Requests by Namespace",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Requests",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(node_cpu_seconds_total, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Compute Resources / Cluster",
            "uid": "efa86fd1d0c121a26444b636a3f509a8",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-resources-cluster
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-resources-namespace.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{pod}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "CPU Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "CPU Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Pod",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell",
                                    "pattern": "pod",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod) / sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod) / sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Quota",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"}) by (pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{pod}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage (w/o cache)",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Memory Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Usage (RSS)",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Usage (Cache)",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #G",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Usage (Swap",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #H",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Pod",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell",
                                    "pattern": "pod",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod) / sum(kube_pod_container_resource_requests_memory_bytes{namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\"$namespace\"}) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_rss{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_cache{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "G",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_swap{cluster=\"$cluster\", namespace=\"$namespace\",container!=\"\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (pod)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "H",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Quota",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\"}, namespace)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Compute Resources / Namespace (Pods)",
            "uid": "85a562078cdf77779eaa1add43ccec1e",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-resources-namespace
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-resources-pod.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\", cluster=\"$cluster\"}) by (container)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{container}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "CPU Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "CPU Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Container",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "container",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container) / sum(kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container) / sum(kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Quota",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(container_memory_rss{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\", container!=\"\"}) by (container)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{container}} (RSS)",
                                    "legendLink": null,
                                    "step": 10
                                },
                                {
                                    "expr": "sum(container_memory_cache{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\", container!=\"\"}) by (container)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{container}} (Cache)",
                                    "legendLink": null,
                                    "step": 10
                                },
                                {
                                    "expr": "sum(container_memory_swap{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\", container!=\"\"}) by (container)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{container}} (Swap)",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Memory Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Usage (RSS)",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Usage (Cache)",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #G",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Usage (Swap",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #H",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Container",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "container",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"POD\", container!=\"\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container) / sum(kube_pod_container_resource_requests_memory_bytes{namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container!=\"\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container) / sum(kube_pod_container_resource_limits_memory_bytes{namespace=\"$namespace\", pod=\"$pod\"}) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_rss{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_cache{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "G",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(label_replace(container_memory_swap{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container != \"\", container != \"POD\"}, \"container\", \"$1\", \"container\", \"(.*)\")) by (container)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "H",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Quota",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\"}, namespace)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "pod",
                        "multi": false,
                        "name": "pod",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\", namespace=\"$namespace\"}, pod)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Compute Resources / Pod",
            "uid": "6581e46e4e5c7ba40a07646395ef7b23",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-resources-pod
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-resources-workload.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{pod}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "CPU Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "CPU Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Pod",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell",
                                    "pattern": "pod",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n/sum(\n  kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n/sum(\n  kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Quota",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n  ) by (pod)\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{pod}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Memory Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Pod",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell",
                                    "pattern": "pod",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n  ) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n  ) by (pod)\n/sum(\n  kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n  ) by (pod)\n/sum(\n  kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\", workload_type=\"$type\"}\n) by (pod)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Quota",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\"}, namespace)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "workload",
                        "multi": false,
                        "name": "workload",
                        "options": [

                        ],
                        "query": "label_values(mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}, workload)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "type",
                        "multi": false,
                        "name": "type",
                        "options": [

                        ],
                        "query": "label_values(mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\", workload=\"$workload\"}, workload_type)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Compute Resources / Workload",
            "uid": "a164a7f0339f99e89cea5cb47e9be617",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-resources-workload
      namespace: monitoring
  - apiVersion: v1
    data:
      k8s-resources-workloads-namespace.json: |-
        {
            "annotations": {
                "list": [

                ]
            },
            "editable": true,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "links": [

            ],
            "refresh": "10s",
            "rows": [
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 1,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{workload}} - {{workload_type}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 2,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Running Pods",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "CPU Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "CPU Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Workload",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/a164a7f0339f99e89cea5cb47e9be617/k8s-resources-workload?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-workload=$__cell&var-type=$__cell_2",
                                    "pattern": "workload",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Workload Type",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "workload_type",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "count(mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}) by (workload, workload_type)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_requests_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    namespace_pod_container:container_cpu_usage_seconds_total:sum_rate{cluster=\"$cluster\", namespace=\"$namespace\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_limits_cpu_cores{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "CPU Quota",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 10,
                            "id": 3,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 0,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n  ) by (workload, workload_type)\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "{{workload}} - {{workload_type}}",
                                    "legendLink": null,
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Usage",
                    "titleSize": "h6"
                },
                {
                    "collapse": false,
                    "height": "250px",
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "id": 4,
                            "legend": {
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null as zero",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "styles": [
                                {
                                    "alias": "Time",
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "pattern": "Time",
                                    "type": "hidden"
                                },
                                {
                                    "alias": "Running Pods",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 0,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #A",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Memory Usage",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #B",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #C",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Requests %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #D",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Memory Limits",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #E",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "bytes"
                                },
                                {
                                    "alias": "Memory Limits %",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "Value #F",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "percentunit"
                                },
                                {
                                    "alias": "Workload",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": true,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "/d/a164a7f0339f99e89cea5cb47e9be617/k8s-resources-workload?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-workload=$__cell&var-type=$__cell_2",
                                    "pattern": "workload",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "Workload Type",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "link": false,
                                    "linkTooltip": "Drill down",
                                    "linkUrl": "",
                                    "pattern": "workload_type",
                                    "thresholds": [

                                    ],
                                    "type": "number",
                                    "unit": "short"
                                },
                                {
                                    "alias": "",
                                    "colorMode": null,
                                    "colors": [

                                    ],
                                    "dateFormat": "YYYY-MM-DD HH:mm:ss",
                                    "decimals": 2,
                                    "pattern": "/.*/",
                                    "thresholds": [

                                    ],
                                    "type": "string",
                                    "unit": "short"
                                }
                            ],
                            "targets": [
                                {
                                    "expr": "count(mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}) by (workload, workload_type)",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n  ) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "B",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "C",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n  ) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_requests_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "D",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "E",
                                    "step": 10
                                },
                                {
                                    "expr": "sum(\n  label_replace(\n    container_memory_usage_bytes{cluster=\"$cluster\", namespace=\"$namespace\", container!=\"\"},\n    \"pod\", \"$1\", \"pod\", \"(.*)\"\n  ) * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n  ) by (workload, workload_type)\n/sum(\n  kube_pod_container_resource_limits_memory_bytes{cluster=\"$cluster\", namespace=\"$namespace\"}\n  * on(namespace,pod) group_left(workload, workload_type) mixin_pod_workload{cluster=\"$cluster\", namespace=\"$namespace\"}\n) by (workload, workload_type)\n",
                                    "format": "table",
                                    "instant": true,
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "F",
                                    "step": 10
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Quota",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "transform": "table",
                            "type": "table",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": false
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": true,
                    "title": "Memory Quota",
                    "titleSize": "h6"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info, cluster)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {
                            "text": "prod",
                            "value": "prod"
                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\"}, namespace)",
                        "refresh": 1,
                        "regex": "",
                        "sort": 2,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Compute Resources / Namespace (Workloads)",
            "uid": "a87fb0d919ec0ea5f6543124e16c42a5",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-k8s-resources-workloads-namespace
      namespace: monitoring
  - apiVersion: v1
    data:
      nodes.json: |-
        {
          "annotations": {
            "list": [
              {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
              }
            ]
          },
          "description": "【English version】Update 2020.10.10, add the overall resource overview! Support Grafana6&7,Support Node Exporter v0.16 and above.Optimize the main metrics display. Includes: CPU, memory, disk IO, network, temperature and other monitoring metrics。https://github.com/starsliao/Prometheus",
          "editable": true,
          "gnetId": 11074,
          "graphTooltip": 0,
          "id": 19,
          "iteration": 1642141291540,
          "links": [
            {
              "icon": "bolt",
              "tags": [],
              "targetBlank": true,
              "title": "Update",
              "tooltip": "Update dashboard",
              "type": "link",
              "url": "https://grafana.com/grafana/dashboards/11074"
            },
            {
              "icon": "question",
              "tags": [],
              "targetBlank": true,
              "title": "GitHub",
              "tooltip": "more dashboard",
              "type": "link",
              "url": "https://github.com/starsliao"
            },
            {
              "asDropdown": true,
              "icon": "external link",
              "tags": [],
              "targetBlank": true,
              "title": "",
              "type": "dashboards"
            }
          ],
          "panels": [
            {
              "collapsed": false,
              "datasource": "prometheus",
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
              },
              "id": 187,
              "panels": [],
              "title": "Resource Overview (associated JOB)，Host：$show_hostname，Instance：$node",
              "type": "row"
            },
            {
              "columns": [],
              "datasource": "prometheus",
              "description": "Partition utilization, disk read, disk write, download bandwidth, upload bandwidth, if there are multiple network cards or multiple partitions, it is the value of the network card or partition with the highest utilization rate collected.\n\nCurrEstab: The number of TCP connections whose current status is ESTABLISHED or CLOSE-WAIT.",
              "fieldConfig": {
                "defaults": {
                  "custom": {}
                },
                "overrides": []
              },
              "fontSize": "80%",
              "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 1
              },
              "id": 185,
              "pageSize": null,
              "showHeader": true,
              "sort": {
                "col": 31,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Hostname",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 1,
                  "link": false,
                  "linkTooltip": "",
                  "linkUrl": "",
                  "mappingType": 1,
                  "pattern": "nodename",
                  "thresholds": [],
                  "type": "string",
                  "unit": "bytes"
                },
                {
                  "alias": "IP（Link to details）",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": true,
                  "linkTargetBlank": false,
                  "linkTooltip": "Browse host details",
                  "linkUrl": "d/xfpJB9FGz/node-exporter?orgId=1&var-job=${job}&var-hostname=All&var-node=${__cell}&var-device=All&var-origin_prometheus=$origin_prometheus",
                  "mappingType": 1,
                  "pattern": "instance",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "Memory",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": false,
                  "mappingType": 1,
                  "pattern": "Value #B",
                  "thresholds": [],
                  "type": "number",
                  "unit": "bytes"
                },
                {
                  "alias": "CPU Cores",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": null,
                  "mappingType": 1,
                  "pattern": "Value #C",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": " Uptime",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #D",
                  "thresholds": [],
                  "type": "number",
                  "unit": "s"
                },
                {
                  "alias": "Partition used%*",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #E",
                  "thresholds": [
                    "70",
                    "85"
                  ],
                  "type": "number",
                  "unit": "percent"
                },
                {
                  "alias": "CPU used%",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #F",
                  "thresholds": [
                    "70",
                    "85"
                  ],
                  "type": "number",
                  "unit": "percent"
                },
                {
                  "alias": "Memory used%",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #G",
                  "thresholds": [
                    "70",
                    "85"
                  ],
                  "type": "number",
                  "unit": "percent"
                },
                {
                  "alias": "Disk read*",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #H",
                  "thresholds": [
                    "10485760",
                    "20485760"
                  ],
                  "type": "number",
                  "unit": "Bps"
                },
                {
                  "alias": "Disk write*",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #I",
                  "thresholds": [
                    "10485760",
                    "20485760"
                  ],
                  "type": "number",
                  "unit": "Bps"
                },
                {
                  "alias": "Download*",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #J",
                  "thresholds": [
                    "30485760",
                    "104857600"
                  ],
                  "type": "number",
                  "unit": "bps"
                },
                {
                  "alias": "Upload*",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #K",
                  "thresholds": [
                    "30485760",
                    "104857600"
                  ],
                  "type": "number",
                  "unit": "bps"
                },
                {
                  "alias": "5m load",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #L",
                  "thresholds": [],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "CurrEstab",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "Value #M",
                  "thresholds": [
                    "1000",
                    "1500"
                  ],
                  "type": "string",
                  "unit": "short"
                },
                {
                  "alias": "TCP_tw",
                  "align": "center",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": null,
                  "mappingType": 1,
                  "pattern": "Value #N",
                  "thresholds": [
                    "5000",
                    "20000"
                  ],
                  "type": "number",
                  "unit": "short"
                },
                {
                  "alias": "",
                  "align": "right",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "pattern": "/.*/",
                  "thresholds": [],
                  "type": "hidden",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "expr": "node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - 0",
                  "format": "table",
                  "instant": true,
                  "interval": "",
                  "legendFormat": "主机名",
                  "refId": "A"
                },
                {
                  "expr": "sum(time() - node_boot_time_seconds{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"})by(instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "运行时间",
                  "refId": "D"
                },
                {
                  "expr": "node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - 0",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "总内存",
                  "refId": "B"
                },
                {
                  "expr": "count(node_cpu_seconds_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",mode='system'}) by (instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "总核数",
                  "refId": "C"
                },
                {
                  "expr": "node_load5{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}",
                  "format": "table",
                  "instant": true,
                  "interval": "",
                  "legendFormat": "5分钟负载",
                  "refId": "L"
                },
                {
                  "expr": "(1 - avg(rate(node_cpu_seconds_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",mode=\"idle\"}[$interval])) by (instance)) * 100",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "CPU使用率",
                  "refId": "F"
                },
                {
                  "expr": "(1 - (node_memory_MemAvailable_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} / (node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"})))* 100",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "内存使用率",
                  "refId": "G"
                },
                {
                  "expr": "max((node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"ext.?|xfs\"}-node_filesystem_free_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"ext.?|xfs\"}) *100/(node_filesystem_avail_bytes {origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"ext.?|xfs\"}+(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"ext.?|xfs\"}-node_filesystem_free_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"ext.?|xfs\"})))by(instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "分区使用率",
                  "refId": "E"
                },
                {
                  "expr": "max(rate(node_disk_read_bytes_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}[$interval])) by (instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "最大读取",
                  "refId": "H"
                },
                {
                  "expr": "max(rate(node_disk_written_bytes_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}[$interval])) by (instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "最大写入",
                  "refId": "I"
                },
                {
                  "expr": "node_netstat_Tcp_CurrEstab{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - 0",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "连接数",
                  "refId": "M"
                },
                {
                  "expr": "node_sockstat_TCP_tw{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - 0",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "TIME_WAIT",
                  "refId": "N"
                },
                {
                  "expr": "max(rate(node_network_receive_bytes_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}[$interval])*8) by (instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "下载带宽",
                  "refId": "J"
                },
                {
                  "expr": "max(rate(node_network_transmit_bytes_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}[$interval])*8) by (instance)",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "上传带宽",
                  "refId": "K"
                }
              ],
              "timeFrom": null,
              "timeShift": null,
              "title": "Server Resource Overview【JOB：$job，Total：$total】",
              "transform": "table",
              "type": "table-old"
            },
            {
              "aliasColors": {
                "192.168.200.241:9100_Total": "dark-red",
                "Idle - Waiting for something to happen": "#052B51",
                "guest": "#9AC48A",
                "idle": "#052B51",
                "iowait": "#EAB839",
                "irq": "#BF1B00",
                "nice": "#C15C17",
                "sdb_每秒I/O操作%": "#d683ce",
                "softirq": "#E24D42",
                "steal": "#FCE2DE",
                "system": "#508642",
                "user": "#5195CE",
                "磁盘花费在I/O操作占比": "#ba43a9"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": null,
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 8
              },
              "hiddenSeries": false,
              "id": 191,
              "legend": {
                "alignAsTable": false,
                "avg": false,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": false,
                "min": false,
                "rightSide": false,
                "show": true,
                "sideWidth": null,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "maxPerRow": 6,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "repeat": null,
              "seriesOverrides": [
                {
                  "alias": "Overall average used%",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                },
                {
                  "alias": "CPU Cores",
                  "color": "#C4162A"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "count(node_cpu_seconds_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\", mode='system'})",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "CPU Cores",
                  "refId": "B",
                  "step": 240
                },
                {
                  "expr": "sum(node_load5{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"})",
                  "format": "time_series",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Total 5m load",
                  "refId": "A",
                  "step": 240
                },
                {
                  "expr": "avg(1 - avg(rate(node_cpu_seconds_total{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",mode=\"idle\"}[$interval])) by (instance)) * 100",
                  "format": "time_series",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Overall average used%",
                  "refId": "F",
                  "step": 240
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "$job：Overall total 5m load & average CPU used%",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "short",
                  "label": "Total 5m load",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "decimals": 0,
                  "format": "percent",
                  "label": "Overall average used%",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "192.168.200.241:9100_总内存": "dark-red",
                "内存_Avaliable": "#6ED0E0",
                "内存_Cached": "#EF843C",
                "内存_Free": "#629E51",
                "内存_Total": "#6d1f62",
                "内存_Used": "#eab839",
                "可用": "#9ac48a",
                "总内存": "#bf1b00"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 1,
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 8
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 195,
              "legend": {
                "alignAsTable": false,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": false,
                "show": true,
                "sort": "current",
                "sortDesc": false,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "Total",
                  "color": "#C4162A",
                  "fill": 0
                },
                {
                  "alias": "Overall Average Used%",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"})",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Total",
                  "refId": "A",
                  "step": 4
                },
                {
                  "expr": "sum(node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - node_memory_MemAvailable_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"})",
                  "format": "time_series",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Total Used",
                  "refId": "B",
                  "step": 4
                },
                {
                  "expr": "(sum(node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"} - node_memory_MemAvailable_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}) / sum(node_memory_MemTotal_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}))*100",
                  "format": "time_series",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Overall Average Used%",
                  "refId": "H"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "$job：Overall total memory & average memory used%",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "bytes",
                  "label": "Total",
                  "logBase": 1,
                  "max": null,
                  "min": "0",
                  "show": true
                },
                {
                  "decimals": null,
                  "format": "percent",
                  "label": "Overall Average Used%",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 1,
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 16,
                "y": 8
              },
              "hiddenSeries": false,
              "id": 197,
              "legend": {
                "alignAsTable": false,
                "avg": false,
                "current": true,
                "hideEmpty": false,
                "hideZero": false,
                "max": false,
                "min": false,
                "rightSide": false,
                "show": true,
                "sideWidth": null,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "Overall Average Used%",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                },
                {
                  "alias": "Total",
                  "color": "#C4162A"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "sum(avg(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance))",
                  "format": "time_series",
                  "instant": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Total",
                  "refId": "E"
                },
                {
                  "expr": "sum(avg(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance))",
                  "format": "time_series",
                  "instant": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Total Used",
                  "refId": "C"
                },
                {
                  "expr": "(sum(avg(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance))) *100/(sum(avg(node_filesystem_avail_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance))+(sum(avg(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",fstype=~\"xfs|ext.*\"})by(device,instance))))",
                  "format": "time_series",
                  "instant": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Overall Average Used%",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "$job：Overall total disk & average disk used%",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": 1,
                  "format": "bytes",
                  "label": "Total",
                  "logBase": 1,
                  "max": null,
                  "min": "0",
                  "show": true
                },
                {
                  "decimals": null,
                  "format": "percent",
                  "label": "Overall Average Used%",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "collapsed": false,
              "datasource": "prometheus",
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 15
              },
              "id": 189,
              "panels": [],
              "title": "Resource Details：【$show_hostname】",
              "type": "row"
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "decimals": 0,
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "null",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(245, 54, 54, 0.9)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 1
                      },
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": 3
                      }
                    ]
                  },
                  "unit": "s"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 0,
                "y": 16
              },
              "hideTimeOverride": true,
              "id": 15,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "avg(time() - node_boot_time_seconds{instance=~\"$node\"})",
                  "format": "time_series",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A",
                  "step": 40
                }
              ],
              "title": "Uptime",
              "type": "stat"
            },
            {
              "datasource": "prometheus",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "thresholds"
                  },
                  "custom": {},
                  "decimals": 1,
                  "mappings": [
                    {
                      "from": "",
                      "id": 1,
                      "operator": "",
                      "text": "N/A",
                      "to": "",
                      "type": 1,
                      "value": "0"
                    }
                  ],
                  "max": 100,
                  "min": 0.1,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "#EAB839",
                        "value": 70
                      },
                      {
                        "color": "red",
                        "value": 90
                      }
                    ]
                  },
                  "unit": "percent"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 6,
                "w": 3,
                "x": 2,
                "y": 16
              },
              "id": 177,
              "options": {
                "displayMode": "lcd",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "last"
                  ],
                  "fields": "",
                  "values": false
                },
                "showUnfilled": true
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "100 - (avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"idle\"}[$interval])) * 100)",
                  "instant": true,
                  "interval": "",
                  "legendFormat": "CPU Busy",
                  "refId": "A"
                },
                {
                  "expr": "avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"iowait\"}[$interval])) * 100",
                  "hide": true,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "IOwait使用率",
                  "refId": "C"
                },
                {
                  "expr": "(1 - (node_memory_MemAvailable_bytes{instance=~\"$node\"} / (node_memory_MemTotal_bytes{instance=~\"$node\"})))* 100",
                  "instant": true,
                  "interval": "",
                  "legendFormat": "Used RAM Memory",
                  "refId": "B"
                },
                {
                  "expr": "(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint=\"$maxmount\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint=\"$maxmount\"})*100 /(node_filesystem_avail_bytes {instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint=\"$maxmount\"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint=\"$maxmount\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint=\"$maxmount\"}))",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "legendFormat": "Used Max Mount($maxmount)",
                  "refId": "D"
                },
                {
                  "expr": "(1 - ((node_memory_SwapFree_bytes{instance=~\"$node\"} + 1)/ (node_memory_SwapTotal_bytes{instance=~\"$node\"} + 1))) * 100",
                  "instant": true,
                  "interval": "",
                  "legendFormat": "Used SWAP",
                  "refId": "F"
                }
              ],
              "timeFrom": null,
              "timeShift": null,
              "title": "",
              "transformations": [],
              "type": "bargauge"
            },
            {
              "columns": [],
              "datasource": "prometheus",
              "description": "In this kanban: the total disk, usage, available, and usage rate are consistent with the values of the Size, Used, Avail, and Use% columns of the df command, and the value of Use% will be rounded to one decimal place, which will be more accurate .\n\nNote: The Use% algorithm in df is: (size-free) * 100 / (avail + (size-free)), the result is divisible by this value, non-divisible by this value is +1, and the unit of the result is %.\nRefer to the df command source code:",
              "fieldConfig": {
                "defaults": {
                  "custom": {}
                },
                "overrides": []
              },
              "fontSize": "80%",
              "gridPos": {
                "h": 6,
                "w": 10,
                "x": 5,
                "y": 16
              },
              "id": 181,
              "links": [
                {
                  "targetBlank": true,
                  "title": "https://github.com/coreutils/coreutils/blob/master/src/df.c",
                  "url": "https://github.com/coreutils/coreutils/blob/master/src/df.c"
                }
              ],
              "pageSize": null,
              "scroll": true,
              "showHeader": true,
              "sort": {
                "col": 6,
                "desc": false
              },
              "styles": [
                {
                  "alias": "Mounted on",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "mappingType": 1,
                  "pattern": "mountpoint",
                  "thresholds": [
                    ""
                  ],
                  "type": "string",
                  "unit": "bytes"
                },
                {
                  "alias": "Avail",
                  "align": "auto",
                  "colorMode": "value",
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 1,
                  "mappingType": 1,
                  "pattern": "Value #A",
                  "thresholds": [
                    "10000000000",
                    "20000000000"
                  ],
                  "type": "number",
                  "unit": "bytes"
                },
                {
                  "alias": "Used",
                  "align": "auto",
                  "colorMode": "cell",
                  "colors": [
                    "rgba(50, 172, 45, 0.97)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(245, 54, 54, 0.9)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 1,
                  "mappingType": 1,
                  "pattern": "Value #B",
                  "thresholds": [
                    "70",
                    "85"
                  ],
                  "type": "number",
                  "unit": "percent"
                },
                {
                  "alias": "Size",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 0,
                  "link": false,
                  "mappingType": 1,
                  "pattern": "Value #C",
                  "thresholds": [],
                  "type": "number",
                  "unit": "bytes"
                },
                {
                  "alias": "Filesystem",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": false,
                  "mappingType": 1,
                  "pattern": "fstype",
                  "thresholds": [],
                  "type": "string",
                  "unit": "short"
                },
                {
                  "alias": "Device",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "dateFormat": "YYYY-MM-DD HH:mm:ss",
                  "decimals": 2,
                  "link": false,
                  "mappingType": 1,
                  "pattern": "device",
                  "preserveFormat": false,
                  "sanitize": false,
                  "thresholds": [],
                  "type": "string",
                  "unit": "short"
                },
                {
                  "alias": "",
                  "align": "auto",
                  "colorMode": null,
                  "colors": [
                    "rgba(245, 54, 54, 0.9)",
                    "rgba(237, 129, 40, 0.89)",
                    "rgba(50, 172, 45, 0.97)"
                  ],
                  "decimals": 2,
                  "pattern": "/.*/",
                  "preserveFormat": true,
                  "sanitize": false,
                  "thresholds": [],
                  "type": "hidden",
                  "unit": "short"
                }
              ],
              "targets": [
                {
                  "expr": "node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-0",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "总量",
                  "refId": "C"
                },
                {
                  "expr": "node_filesystem_avail_bytes {instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-0",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "10s",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A"
                },
                {
                  "expr": "(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}) *100/(node_filesystem_avail_bytes {instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}))",
                  "format": "table",
                  "hide": false,
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "B"
                }
              ],
              "title": "【$show_hostname】：Disk Space Used Basic(EXT?/XFS)",
              "transform": "table",
              "type": "table-old"
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "decimals": 2,
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "connected",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 20
                      },
                      {
                        "color": "#d44a3a",
                        "value": 50
                      }
                    ]
                  },
                  "unit": "percent"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 15,
                "y": 16
              },
              "id": 20,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "area",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "last"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"iowait\"}[$interval])) * 100",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A",
                  "step": 20
                }
              ],
              "timeFrom": null,
              "timeShift": null,
              "title": "CPU iowait",
              "type": "stat"
            },
            {
              "aliasColors": {
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_cni0_in": "light-red",
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_cni0_in下载": "green",
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_cni0_out上传": "yellow",
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_eth0_in下载": "purple",
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_eth0_out": "purple",
                "cn-shenzhen.i-wz9cq1dcb6zwc39ehw59_eth0_out上传": "blue"
              },
              "bars": true,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "editable": true,
              "error": false,
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "grid": {},
              "gridPos": {
                "h": 6,
                "w": 7,
                "x": 17,
                "y": 16
              },
              "hiddenSeries": false,
              "id": 183,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": false,
                "show": false,
                "sort": "current",
                "sortDesc": true,
                "total": true,
                "values": true
              },
              "lines": false,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null as zero",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 1,
              "points": false,
              "renderer": "flot",
              "repeat": null,
              "seriesOverrides": [
                {
                  "alias": "/.*_transmit$/",
                  "transform": "negative-Y"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "increase(node_network_receive_bytes_total{instance=~\"$node\",device=~\"$device\"}[60m])",
                  "interval": "60m",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_receive",
                  "metric": "",
                  "refId": "A",
                  "step": 600,
                  "target": ""
                },
                {
                  "expr": "increase(node_network_transmit_bytes_total{instance=~\"$node\",device=~\"$device\"}[60m])",
                  "hide": false,
                  "interval": "60m",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_transmit",
                  "refId": "B",
                  "step": 600
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Internet traffic per hour $device",
              "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 0,
                "value_type": "cumulative"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "bytes",
                  "label": "transmit（-）/receive（+）",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "null",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(245, 54, 54, 0.9)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 1
                      },
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": 2
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 0,
                "y": 18
              },
              "id": 14,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "value"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "count(node_cpu_seconds_total{instance=~\"$node\", mode='system'})",
                  "format": "time_series",
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A",
                  "step": 20
                }
              ],
              "title": "CPU Cores",
              "type": "stat"
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "null",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(245, 54, 54, 0.9)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 100000
                      },
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": 1000000
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 15,
                "y": 18
              },
              "id": 179,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "avg(node_filesystem_files_free{instance=~\"$node\",mountpoint=\"$maxmount\",fstype=~\"ext.?|xfs\"})",
                  "format": "time_series",
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A",
                  "step": 20
                }
              ],
              "title": "Free inodes:$maxmount ",
              "type": "stat"
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "decimals": 0,
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "null",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(245, 54, 54, 0.9)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 2
                      },
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": 3
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 0,
                "y": 20
              },
              "id": 75,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "sum(node_memory_MemTotal_bytes{instance=~\"$node\"})",
                  "format": "time_series",
                  "instant": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{instance}}",
                  "refId": "A",
                  "step": 20
                }
              ],
              "title": "Total RAM",
              "type": "stat"
            },
            {
              "cacheTimeout": null,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "mappings": [
                    {
                      "id": 0,
                      "op": "=",
                      "text": "N/A",
                      "type": 1,
                      "value": "null"
                    }
                  ],
                  "nullValueMode": "null",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "rgba(245, 54, 54, 0.9)",
                        "value": null
                      },
                      {
                        "color": "rgba(237, 129, 40, 0.89)",
                        "value": 1024
                      },
                      {
                        "color": "rgba(50, 172, 45, 0.97)",
                        "value": 10000
                      }
                    ]
                  },
                  "unit": "locale"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 2,
                "w": 2,
                "x": 15,
                "y": 20
              },
              "id": 178,
              "interval": null,
              "links": [],
              "maxDataPoints": 100,
              "options": {
                "colorMode": "value",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                  "calcs": [
                    "lastNotNull"
                  ],
                  "fields": "",
                  "values": false
                },
                "textMode": "auto"
              },
              "pluginVersion": "7.2.0",
              "targets": [
                {
                  "expr": "avg(node_filefd_maximum{instance=~\"$node\"})",
                  "format": "time_series",
                  "instant": true,
                  "intervalFactor": 1,
                  "legendFormat": "",
                  "refId": "A",
                  "step": 20
                }
              ],
              "title": "Total filefd",
              "type": "stat"
            },
            {
              "aliasColors": {
                "192.168.200.241:9100_Total": "dark-red",
                "Idle - Waiting for something to happen": "#052B51",
                "guest": "#9AC48A",
                "idle": "#052B51",
                "iowait": "#EAB839",
                "irq": "#BF1B00",
                "nice": "#C15C17",
                "sdb_每秒I/O操作%": "#d683ce",
                "softirq": "#E24D42",
                "steal": "#FCE2DE",
                "system": "#508642",
                "user": "#5195CE",
                "磁盘花费在I/O操作占比": "#ba43a9"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 22
              },
              "hiddenSeries": false,
              "id": 7,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sideWidth": null,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "maxPerRow": 6,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "repeat": null,
              "seriesOverrides": [
                {
                  "alias": "/.*Total/",
                  "color": "#C4162A",
                  "fill": 0
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"system\"}[$interval])) by (instance) *100",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "System",
                  "refId": "A",
                  "step": 20
                },
                {
                  "expr": "avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"user\"}[$interval])) by (instance) *100",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "User",
                  "refId": "B",
                  "step": 240
                },
                {
                  "expr": "avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"iowait\"}[$interval])) by (instance) *100",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "Iowait",
                  "refId": "D",
                  "step": 240
                },
                {
                  "expr": "(1 - avg(rate(node_cpu_seconds_total{instance=~\"$node\",mode=\"idle\"}[$interval])) by (instance))*100",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "Total",
                  "refId": "F",
                  "step": 240
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "CPU% Basic",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": 0,
                  "format": "percent",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "192.168.200.241:9100_总内存": "dark-red",
                "使用率": "yellow",
                "内存_Avaliable": "#6ED0E0",
                "内存_Cached": "#EF843C",
                "内存_Free": "#629E51",
                "内存_Total": "#6d1f62",
                "内存_Used": "#eab839",
                "可用": "#9ac48a",
                "总内存": "#bf1b00"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 22
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 156,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "Total",
                  "color": "#C4162A",
                  "fill": 0
                },
                {
                  "alias": "Used%",
                  "color": "rgb(0, 209, 255)",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "Total",
                  "refId": "A",
                  "step": 4
                },
                {
                  "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"} - node_memory_MemAvailable_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "Used",
                  "refId": "B",
                  "step": 4
                },
                {
                  "expr": "node_memory_MemAvailable_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "Avaliable",
                  "refId": "F",
                  "step": 4
                },
                {
                  "expr": "node_memory_Buffers_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "内存_Buffers",
                  "refId": "D",
                  "step": 4
                },
                {
                  "expr": "node_memory_MemFree_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": true,
                  "intervalFactor": 1,
                  "legendFormat": "内存_Free",
                  "refId": "C",
                  "step": 4
                },
                {
                  "expr": "node_memory_Cached_bytes{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": true,
                  "intervalFactor": 1,
                  "legendFormat": "内存_Cached",
                  "refId": "E",
                  "step": 4
                },
                {
                  "expr": "node_memory_MemTotal_bytes{instance=~\"$node\"} - (node_memory_Cached_bytes{instance=~\"$node\"} + node_memory_Buffers_bytes{instance=~\"$node\"} + node_memory_MemFree_bytes{instance=~\"$node\"})",
                  "format": "time_series",
                  "hide": true,
                  "intervalFactor": 1,
                  "refId": "G"
                },
                {
                  "expr": "(1 - (node_memory_MemAvailable_bytes{instance=~\"$node\"} / (node_memory_MemTotal_bytes{instance=~\"$node\"})))* 100",
                  "format": "time_series",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 10,
                  "legendFormat": "Used%",
                  "refId": "H"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Memory Basic",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "bytes",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": "0",
                  "show": true
                },
                {
                  "format": "percent",
                  "label": "Utilization%",
                  "logBase": 1,
                  "max": "100",
                  "min": "0",
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "192.168.10.227:9100_em1_in下载": "super-light-green",
                "192.168.10.227:9100_em1_out上传": "dark-blue"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 22
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 157,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 2,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/.*_transmit$/",
                  "transform": "negative-Y"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(node_network_receive_bytes_total{instance=~'$node',device=~\"$device\"}[$interval])*8",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_receive",
                  "refId": "A",
                  "step": 4
                },
                {
                  "expr": "rate(node_network_transmit_bytes_total{instance=~'$node',device=~\"$device\"}[$interval])*8",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_transmit",
                  "refId": "B",
                  "step": 4
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Network bandwidth usage per second $device",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "bps",
                  "label": "transmit（-）/receive（+）",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "15分钟": "#6ED0E0",
                "1分钟": "#BF1B00",
                "5分钟": "#CCA300"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "editable": true,
              "error": false,
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 1,
              "grid": {},
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 13,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "maxPerRow": 6,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "repeat": null,
              "seriesOverrides": [
                {
                  "alias": "/.*CPU cores/",
                  "color": "#C4162A"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "node_load1{instance=~\"$node\"}",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "1m",
                  "metric": "",
                  "refId": "A",
                  "step": 20,
                  "target": ""
                },
                {
                  "expr": "node_load5{instance=~\"$node\"}",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "5m",
                  "refId": "B",
                  "step": 20
                },
                {
                  "expr": "node_load15{instance=~\"$node\"}",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "15m",
                  "refId": "C",
                  "step": 20
                },
                {
                  "expr": " sum(count(node_cpu_seconds_total{instance=~\"$node\", mode='system'}) by (cpu,instance)) by(instance)",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "CPU cores",
                  "refId": "D",
                  "step": 20
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "System Load",
              "tooltip": {
                "msResolution": false,
                "shared": true,
                "sort": 2,
                "value_type": "cumulative"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "vda_write": "#6ED0E0"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "description": "Per second read / write bytes ",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 1,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 168,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/.*_Read bytes$/",
                  "transform": "negative-Y"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(node_disk_read_bytes_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Read bytes",
                  "refId": "A",
                  "step": 10
                },
                {
                  "expr": "rate(node_disk_written_bytes_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Written bytes",
                  "refId": "B",
                  "step": 10
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Disk R/W Data",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "Bps",
                  "label": "Bytes read (-) / write (+)",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 1,
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "hiddenSeries": false,
              "id": 174,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "rightSide": false,
                "show": true,
                "sideWidth": null,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/Inodes.*/",
                  "yaxis": 2
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}) *100/(node_filesystem_avail_bytes {instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}-node_filesystem_free_bytes{instance=~'$node',fstype=~\"ext.*|xfs\",mountpoint !~\".*pod.*\"}))",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{mountpoint}}",
                  "refId": "A"
                },
                {
                  "expr": "node_filesystem_files_free{instance=~'$node',fstype=~\"ext.?|xfs\"} / node_filesystem_files{instance=~'$node',fstype=~\"ext.?|xfs\"}",
                  "hide": true,
                  "interval": "",
                  "legendFormat": "Inodes：{{instance}}：{{mountpoint}}",
                  "refId": "B"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Disk Space Used% Basic",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "percent",
                  "label": "",
                  "logBase": 1,
                  "max": "100",
                  "min": "0",
                  "show": true
                },
                {
                  "decimals": 2,
                  "format": "percentunit",
                  "label": null,
                  "logBase": 1,
                  "max": "1",
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "vda_write": "#6ED0E0"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "description": "Read/write completions per second\n\nWrites completed: 每个磁盘分区每秒写完成次数\n\nIO now 每个磁盘分区每秒正在处理的输入/输出请求数",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 38
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 161,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/.*_Reads completed$/",
                  "transform": "negative-Y"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(node_disk_reads_completed_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Reads completed",
                  "refId": "A",
                  "step": 10
                },
                {
                  "expr": "rate(node_disk_writes_completed_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Writes completed",
                  "refId": "B",
                  "step": 10
                },
                {
                  "expr": "node_disk_io_now{instance=~\"$node\"}",
                  "format": "time_series",
                  "hide": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}",
                  "refId": "C"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Disk IOps Completed（IOPS）",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "iops",
                  "label": "IO read (-) / write (+)",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "Idle - Waiting for something to happen": "#052B51",
                "guest": "#9AC48A",
                "idle": "#052B51",
                "iowait": "#EAB839",
                "irq": "#BF1B00",
                "nice": "#C15C17",
                "sdb_每秒I/O操作%": "#d683ce",
                "softirq": "#E24D42",
                "steal": "#FCE2DE",
                "system": "#508642",
                "user": "#5195CE",
                "磁盘花费在I/O操作占比": "#ba43a9"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": null,
              "description": "The time spent on I/O in the natural time of each second.（wall-clock time）",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 0,
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 38
              },
              "hiddenSeries": false,
              "id": 175,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": false,
                "rightSide": false,
                "show": true,
                "sideWidth": null,
                "sort": null,
                "sortDesc": null,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "maxPerRow": 6,
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(node_disk_io_time_seconds_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_ IO time",
                  "refId": "C"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Time Spent Doing I/Os",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "percentunit",
                  "label": "",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "vda": "#6ED0E0"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "description": "Time spent on each read/write operation",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 1,
              "fillGradient": 1,
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 38
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 160,
              "legend": {
                "alignAsTable": true,
                "avg": true,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": true,
                "show": true,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null as zero",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/,*_Read time$/",
                  "transform": "negative-Y"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(node_disk_read_time_seconds_total{instance=~\"$node\"}[$interval]) / rate(node_disk_reads_completed_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Read time",
                  "refId": "B"
                },
                {
                  "expr": "rate(node_disk_write_time_seconds_total{instance=~\"$node\"}[$interval]) / rate(node_disk_writes_completed_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_Write time",
                  "refId": "C"
                },
                {
                  "expr": "rate(node_disk_io_time_seconds_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}",
                  "refId": "A",
                  "step": 10
                },
                {
                  "expr": "rate(node_disk_io_time_weighted_seconds_total{instance=~\"$node\"}[$interval])",
                  "format": "time_series",
                  "hide": true,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "{{device}}_加权",
                  "refId": "D"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Disk R/W Time(Reference: less than 100ms)(beta)",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "s",
                  "label": "Time read (-) / write (+)",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "192.168.200.241:9100_TCP_alloc": "semi-dark-blue",
                "TCP": "#6ED0E0",
                "TCP_alloc": "blue"
              },
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "decimals": 2,
              "description": "Sockets_used - Sockets currently in use\n\nCurrEstab - TCP connections for which the current state is either ESTABLISHED or CLOSE- WAIT\n\nTCP_alloc - Allocated sockets\n\nTCP_tw - Sockets wating close\n\nUDP_inuse - Udp sockets currently in use\n\nRetransSegs - TCP retransmission packets\n\nOutSegs - Number of packets sent by TCP\n\nInSegs - Number of packets received by TCP",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 0,
              "gridPos": {
                "h": 8,
                "w": 16,
                "x": 0,
                "y": 47
              },
              "height": "300",
              "hiddenSeries": false,
              "id": 158,
              "interval": "",
              "legend": {
                "alignAsTable": true,
                "avg": false,
                "current": true,
                "hideEmpty": true,
                "hideZero": true,
                "max": true,
                "min": false,
                "rightSide": true,
                "show": true,
                "sideWidth": null,
                "sort": "current",
                "sortDesc": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "/.*Sockets_used/",
                  "color": "#E02F44",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "node_netstat_Tcp_CurrEstab{instance=~'$node'}",
                  "format": "time_series",
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "CurrEstab",
                  "refId": "A",
                  "step": 20
                },
                {
                  "expr": "node_sockstat_TCP_tw{instance=~'$node'}",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "TCP_tw",
                  "refId": "D"
                },
                {
                  "expr": "node_sockstat_sockets_used{instance=~'$node'}",
                  "hide": false,
                  "interval": "30m",
                  "intervalFactor": 1,
                  "legendFormat": "Sockets_used",
                  "refId": "B"
                },
                {
                  "expr": "node_sockstat_UDP_inuse{instance=~'$node'}",
                  "interval": "",
                  "legendFormat": "UDP_inuse",
                  "refId": "C"
                },
                {
                  "expr": "node_sockstat_TCP_alloc{instance=~'$node'}",
                  "interval": "",
                  "legendFormat": "TCP_alloc",
                  "refId": "E"
                },
                {
                  "expr": "rate(node_netstat_Tcp_PassiveOpens{instance=~'$node'}[$interval])",
                  "hide": true,
                  "interval": "",
                  "legendFormat": "{{instance}}_Tcp_PassiveOpens",
                  "refId": "G"
                },
                {
                  "expr": "rate(node_netstat_Tcp_ActiveOpens{instance=~'$node'}[$interval])",
                  "hide": true,
                  "interval": "",
                  "legendFormat": "{{instance}}_Tcp_ActiveOpens",
                  "refId": "F"
                },
                {
                  "expr": "rate(node_netstat_Tcp_InSegs{instance=~'$node'}[$interval])",
                  "interval": "",
                  "legendFormat": "Tcp_InSegs",
                  "refId": "H"
                },
                {
                  "expr": "rate(node_netstat_Tcp_OutSegs{instance=~'$node'}[$interval])",
                  "interval": "",
                  "legendFormat": "Tcp_OutSegs",
                  "refId": "I"
                },
                {
                  "expr": "rate(node_netstat_Tcp_RetransSegs{instance=~'$node'}[$interval])",
                  "hide": false,
                  "interval": "",
                  "legendFormat": "Tcp_RetransSegs",
                  "refId": "J"
                },
                {
                  "expr": "rate(node_netstat_TcpExt_ListenDrops{instance=~'$node'}[$interval])",
                  "hide": true,
                  "interval": "",
                  "legendFormat": "",
                  "refId": "K"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Network Sockstat",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "transformations": [],
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": "Total_Sockets_used",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {
                "filefd_192.168.200.241:9100": "super-light-green",
                "switches_192.168.200.241:9100": "semi-dark-red",
                "使用的文件描述符_10.118.72.128:9100": "red",
                "每秒上下文切换次数_10.118.71.245:9100": "yellow",
                "每秒上下文切换次数_10.118.72.128:9100": "yellow"
              },
              "bars": false,
              "cacheTimeout": null,
              "dashLength": 10,
              "dashes": false,
              "datasource": "prometheus",
              "description": "",
              "fieldConfig": {
                "defaults": {
                  "custom": {},
                  "links": []
                },
                "overrides": []
              },
              "fill": 0,
              "fillGradient": 1,
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 47
              },
              "hiddenSeries": false,
              "hideTimeOverride": false,
              "id": 16,
              "legend": {
                "alignAsTable": false,
                "avg": false,
                "current": true,
                "max": false,
                "min": false,
                "rightSide": false,
                "show": true,
                "total": false,
                "values": true
              },
              "lines": true,
              "linewidth": 2,
              "links": [],
              "nullPointMode": "null",
              "options": {
                "alertThreshold": true
              },
              "percentage": false,
              "pluginVersion": "7.2.0",
              "pointradius": 1,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [
                {
                  "alias": "switches",
                  "color": "#FADE2A",
                  "lines": false,
                  "pointradius": 1,
                  "points": true,
                  "yaxis": 2
                },
                {
                  "alias": "used filefd",
                  "color": "#F2495C"
                }
              ],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "node_filefd_allocated{instance=~\"$node\"}",
                  "format": "time_series",
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 5,
                  "legendFormat": "used filefd",
                  "refId": "B"
                },
                {
                  "expr": "rate(node_context_switches_total{instance=~\"$node\"}[$interval])",
                  "interval": "",
                  "intervalFactor": 5,
                  "legendFormat": "switches",
                  "refId": "A"
                },
                {
                  "expr": "  (node_filefd_allocated{instance=~\"$node\"}/node_filefd_maximum{instance=~\"$node\"}) *100",
                  "format": "time_series",
                  "hide": true,
                  "instant": false,
                  "interval": "",
                  "intervalFactor": 5,
                  "legendFormat": "使用的文件描述符占比_{{instance}}",
                  "refId": "C"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeRegions": [],
              "timeShift": null,
              "title": "Open  File Descriptor(left)/Context switches(right)",
              "tooltip": {
                "shared": true,
                "sort": 2,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": "used filefd",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                },
                {
                  "format": "short",
                  "label": "context_switches",
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": true
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            }
          ],
          "refresh": "",
          "schemaVersion": 26,
          "style": "dark",
          "tags": [
            "Prometheus",
            "node_exporter",
            "StarsL.cn"
          ],
          "templating": {
            "list": [
              {
                "allValue": "",
                "current": {
                  "isNone": true,
                  "selected": false,
                  "text": "None",
                  "value": ""
                },
                "datasource": "prometheus",
                "definition": "label_values(origin_prometheus)",
                "hide": 0,
                "includeAll": false,
                "label": "Origin_prom",
                "multi": false,
                "name": "origin_prometheus",
                "options": [],
                "query": "label_values(origin_prometheus)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "node-exporter",
                  "value": "node-exporter"
                },
                "datasource": "prometheus",
                "definition": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\"}, job)",
                "hide": 0,
                "includeAll": false,
                "label": "JOB",
                "multi": false,
                "name": "job",
                "options": [],
                "query": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\"}, job)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "All",
                  "value": "$__all"
                },
                "datasource": "prometheus",
                "definition": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}, nodename)",
                "hide": 0,
                "includeAll": true,
                "label": "Host",
                "multi": false,
                "name": "hostname",
                "options": [],
                "query": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}, nodename)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allFormat": "glob",
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "10.0.0.12:9100",
                  "value": "10.0.0.12:9100"
                },
                "datasource": "prometheus",
                "definition": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",nodename=~\"$hostname\"},instance)",
                "hide": 0,
                "includeAll": false,
                "label": "Instance",
                "multi": true,
                "multiFormat": "regex values",
                "name": "node",
                "options": [],
                "query": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",nodename=~\"$hostname\"},instance)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allFormat": "glob",
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "All",
                  "value": "$__all"
                },
                "datasource": "prometheus",
                "definition": "label_values(node_network_info{origin_prometheus=~\"$origin_prometheus\",device!~'tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*'},device)",
                "hide": 0,
                "includeAll": true,
                "label": "NIC",
                "multi": true,
                "multiFormat": "regex values",
                "name": "device",
                "options": [],
                "query": "label_values(node_network_info{origin_prometheus=~\"$origin_prometheus\",device!~'tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*'},device)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 1,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "auto": false,
                "auto_count": 100,
                "auto_min": "10s",
                "current": {
                  "selected": false,
                  "text": "2m",
                  "value": "2m"
                },
                "hide": 0,
                "label": "Interval",
                "name": "interval",
                "options": [
                  {
                    "selected": false,
                    "text": "30s",
                    "value": "30s"
                  },
                  {
                    "selected": false,
                    "text": "1m",
                    "value": "1m"
                  },
                  {
                    "selected": true,
                    "text": "2m",
                    "value": "2m"
                  },
                  {
                    "selected": false,
                    "text": "3m",
                    "value": "3m"
                  },
                  {
                    "selected": false,
                    "text": "5m",
                    "value": "5m"
                  },
                  {
                    "selected": false,
                    "text": "10m",
                    "value": "10m"
                  },
                  {
                    "selected": false,
                    "text": "30m",
                    "value": "30m"
                  }
                ],
                "query": "30s,1m,2m,3m,5m,10m,30m",
                "queryValue": "",
                "refresh": 2,
                "skipUrlSync": false,
                "type": "interval"
              },
              {
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "/opt",
                  "value": "/opt"
                },
                "datasource": "prometheus",
                "definition": "query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",instance=~'$node',fstype=~\"ext.?|xfs\",mountpoint!~\".*pods.*\"}) by (mountpoint))))",
                "hide": 2,
                "includeAll": false,
                "label": "maxmount",
                "multi": false,
                "name": "maxmount",
                "options": [],
                "query": "query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{origin_prometheus=~\"$origin_prometheus\",instance=~'$node',fstype=~\"ext.?|xfs\",mountpoint!~\".*pods.*\"}) by (mountpoint))))",
                "refresh": 2,
                "regex": "/.*\\\"(.*)\\\".*/",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "VM-0-12-centos",
                  "value": "VM-0-12-centos"
                },
                "datasource": "prometheus",
                "definition": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",instance=~\"$node\"}, nodename)",
                "hide": 2,
                "includeAll": false,
                "label": "show_hostname",
                "multi": false,
                "name": "show_hostname",
                "options": [],
                "query": "label_values(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\",instance=~\"$node\"}, nodename)",
                "refresh": 1,
                "regex": "",
                "skipUrlSync": false,
                "sort": 5,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": null,
                "current": {
                  "selected": false,
                  "text": "17",
                  "value": "17"
                },
                "datasource": "prometheus",
                "definition": "query_result(count(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}))",
                "hide": 2,
                "includeAll": false,
                "label": "total_servers",
                "multi": false,
                "name": "total",
                "options": [],
                "query": "query_result(count(node_uname_info{origin_prometheus=~\"$origin_prometheus\",job=~\"$job\"}))",
                "refresh": 1,
                "regex": "/{} (.*) .*/",
                "skipUrlSync": false,
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              }
            ]
          },
          "time": {
            "from": "now-15m",
            "to": "now"
          },
          "timepicker": {
            "hidden": false,
            "now": true,
            "refresh_intervals": [
              "15s",
              "30s",
              "1m",
              "5m",
              "15m",
              "30m"
            ],
            "time_options": [
              "5m",
              "15m",
              "1h",
              "6h",
              "12h",
              "24h",
              "2d",
              "7d",
              "30d"
            ]
          },
          "timezone": "browser",
          "title": "Hosts",
          "uid": "xfpJB9FGz",
          "version": 1
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-nodes
      namespace: monitoring
  - apiVersion: v1
    data:
      persistentvolumesusage.json: |-
        {
            "__inputs": [

            ],
            "__requires": [

            ],
            "annotations": {
                "list": [

                ]
            },
            "editable": false,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "id": null,
            "links": [

            ],
            "refresh": "",
            "rows": [
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 2,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": true,
                                "min": true,
                                "rightSide": false,
                                "show": true,
                                "total": false,
                                "values": true
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 9,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "(\n  sum without(instance, node) (kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n  -\n  sum without(instance, node) (kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n)\n",
                                    "format": "time_series",
                                    "intervalFactor": 1,
                                    "legendFormat": "Used Space",
                                    "refId": "A"
                                },
                                {
                                    "expr": "sum without(instance, node) (kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n",
                                    "format": "time_series",
                                    "intervalFactor": 1,
                                    "legendFormat": "Free Space",
                                    "refId": "B"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Volume Space Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "rgba(50, 172, 45, 0.97)",
                                "rgba(237, 129, 40, 0.89)",
                                "rgba(245, 54, 54, 0.9)"
                            ],
                            "datasource": "$datasource",
                            "format": "percent",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": true,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 3,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "(\n  kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"}\n  -\n  kubelet_volume_stats_available_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"}\n)\n/\nkubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"}\n* 100\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "80, 90",
                            "title": "Volume Space Usage",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "N/A",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 4,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": true,
                                "min": true,
                                "rightSide": false,
                                "show": true,
                                "total": false,
                                "values": true
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 9,
                            "stack": true,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum without(instance, node) (kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n",
                                    "format": "time_series",
                                    "intervalFactor": 1,
                                    "legendFormat": "Used inodes",
                                    "refId": "A"
                                },
                                {
                                    "expr": "(\n  sum without(instance, node) (kubelet_volume_stats_inodes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n  -\n  sum without(instance, node) (kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"})\n)\n",
                                    "format": "time_series",
                                    "intervalFactor": 1,
                                    "legendFormat": " Free inodes",
                                    "refId": "B"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Volume inodes Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "none",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "none",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "rgba(50, 172, 45, 0.97)",
                                "rgba(237, 129, 40, 0.89)",
                                "rgba(245, 54, 54, 0.9)"
                            ],
                            "datasource": "$datasource",
                            "format": "percent",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": true,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 5,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "kubelet_volume_stats_inodes_used{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"}\n/\nkubelet_volume_stats_inodes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\", persistentvolumeclaim=\"$volume\"}\n* 100\n",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "80, 90",
                            "title": "Volume inodes Usage",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "N/A",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kubelet_volume_stats_capacity_bytes, cluster)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "Namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\"}, namespace)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "PersistentVolumeClaim",
                        "multi": false,
                        "name": "volume",
                        "options": [

                        ],
                        "query": "label_values(kubelet_volume_stats_capacity_bytes{cluster=\"$cluster\", job=\"kubelet\", namespace=\"$namespace\"}, persistentvolumeclaim)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-7d",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Persistent Volumes",
            "uid": "919b92a8e8041bd567af9edab12c840c",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-persistentvolumesusage
      namespace: monitoring
  - apiVersion: v1
    data:
      pods.json: |-
        {
            "__inputs": [

            ],
            "__requires": [

            ],
            "annotations": {
                "list": [
                    {
                        "builtIn": 1,
                        "datasource": "$datasource",
                        "enable": true,
                        "expr": "time() == BOOL timestamp(rate(kube_pod_container_status_restarts_total{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[2m]) > 0)",
                        "hide": false,
                        "iconColor": "rgba(215, 44, 44, 1)",
                        "name": "Restarts",
                        "showIn": 0,
                        "tags": [
                            "restart"
                        ],
                        "type": "rows"
                    }
                ]
            },
            "editable": false,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "id": null,
            "links": [

            ],
            "refresh": "",
            "rows": [
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 2,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": false,
                                "min": false,
                                "rightSide": true,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum by(container) (container_memory_usage_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container=~\"$container\", container!=\"POD\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Current: {{ container }}",
                                    "refId": "A"
                                },
                                {
                                    "expr": "sum by(container) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\", pod=\"$pod\", container=~\"$container\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Requested: {{ container }}",
                                    "refId": "B"
                                },
                                {
                                    "expr": "sum by(container) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\", pod=\"$pod\", container=~\"$container\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Limit: {{ container }}",
                                    "refId": "C"
                                },
                                {
                                    "expr": "sum by(container) (container_memory_cache{job=\"kubelet\", namespace=\"$namespace\", pod=~\"$pod\", container=~\"$container\", container!=\"POD\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Cache: {{ container }}",
                                    "refId": "D"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Memory Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 3,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": false,
                                "min": false,
                                "rightSide": true,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sum by (container) (rate(container_cpu_usage_seconds_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", image!=\"\", pod=\"$pod\", container=~\"$container\", container!=\"POD\"}[2m]))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Current: {{ container }}",
                                    "refId": "A"
                                },
                                {
                                    "expr": "sum by(container) (kube_pod_container_resource_requests{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\", pod=\"$pod\", container=~\"$container\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Requested: {{ container }}",
                                    "refId": "B"
                                },
                                {
                                    "expr": "sum by(container) (kube_pod_container_resource_limits{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"cpu\", pod=\"$pod\", container=~\"$container\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Limit: {{ container }}",
                                    "refId": "C"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "CPU Usage",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 4,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": false,
                                "min": false,
                                "rightSide": true,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[2m])))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "RX: {{ pod }}",
                                    "refId": "A"
                                },
                                {
                                    "expr": "sort_desc(sum by (pod) (rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}[2m])))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "TX: {{ pod }}",
                                    "refId": "B"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Network I/O",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "bytes",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 5,
                            "legend": {
                                "alignAsTable": true,
                                "avg": true,
                                "current": true,
                                "max": false,
                                "min": false,
                                "rightSide": true,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "span": 12,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "max by (container) (kube_pod_container_status_restarts_total{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\", container=~\"$container\"})",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "Restarts: {{ container }}",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Total Restarts Per Container",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": 0,
                                    "show": true
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info, cluster)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "Namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\"}, namespace)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "Pod",
                        "multi": false,
                        "name": "pod",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_info{cluster=\"$cluster\", namespace=~\"$namespace\"}, pod)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": true,
                        "label": "Container",
                        "multi": false,
                        "name": "container",
                        "options": [

                        ],
                        "query": "label_values(kube_pod_container_info{cluster=\"$cluster\", namespace=\"$namespace\", pod=\"$pod\"}, container)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / Pods",
            "uid": "ab4f13a9892a76a4d21ce8c2445bf4ea",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-pods
      namespace: monitoring
  - apiVersion: v1
    data:
      statefulset.json: |-
        {
            "__inputs": [

            ],
            "__requires": [

            ],
            "annotations": {
                "list": [

                ]
            },
            "editable": false,
            "gnetId": null,
            "graphTooltip": 0,
            "hideControls": false,
            "id": null,
            "links": [

            ],
            "refresh": "",
            "rows": [
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 2,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "cores",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 4,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "lineColor": "rgb(31, 120, 193)",
                                "show": true
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "sum(rate(container_cpu_usage_seconds_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$statefulset.*\"}[3m]))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "CPU",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 3,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "GB",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 4,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "lineColor": "rgb(31, 120, 193)",
                                "show": true
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "sum(container_memory_usage_bytes{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$statefulset.*\"}) / 1024^3",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Memory",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 4,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "Bps",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 4,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "lineColor": "rgb(31, 120, 193)",
                                "show": true
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "sum(rate(container_network_transmit_bytes_total{job=\"kubelet\", cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$statefulset.*\"}[3m])) + sum(rate(container_network_receive_bytes_total{cluster=\"$cluster\", namespace=\"$namespace\",pod=~\"$statefulset.*\"}[3m]))",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Network",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "height": "100px",
                    "panels": [
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 5,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "max(kube_statefulset_replicas{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", statefulset=\"$statefulset\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Desired Replicas",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 6,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "min(kube_statefulset_status_replicas_current{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", statefulset=\"$statefulset\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Replicas of current version",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 7,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "max(kube_statefulset_status_observed_generation{job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", statefulset=\"$statefulset\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Observed Generation",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        },
                        {
                            "cacheTimeout": null,
                            "colorBackground": false,
                            "colorValue": false,
                            "colors": [
                                "#299c46",
                                "rgba(237, 129, 40, 0.89)",
                                "#d44a3a"
                            ],
                            "datasource": "$datasource",
                            "format": "none",
                            "gauge": {
                                "maxValue": 100,
                                "minValue": 0,
                                "show": false,
                                "thresholdLabels": false,
                                "thresholdMarkers": true
                            },
                            "gridPos": {

                            },
                            "id": 8,
                            "interval": null,
                            "links": [

                            ],
                            "mappingType": 1,
                            "mappingTypes": [
                                {
                                    "name": "value to text",
                                    "value": 1
                                },
                                {
                                    "name": "range to text",
                                    "value": 2
                                }
                            ],
                            "maxDataPoints": 100,
                            "nullPointMode": "connected",
                            "nullText": null,
                            "postfix": "",
                            "postfixFontSize": "50%",
                            "prefix": "",
                            "prefixFontSize": "50%",
                            "rangeMaps": [
                                {
                                    "from": "null",
                                    "text": "N/A",
                                    "to": "null"
                                }
                            ],
                            "span": 3,
                            "sparkline": {
                                "fillColor": "rgba(31, 118, 189, 0.18)",
                                "full": false,
                                "lineColor": "rgb(31, 120, 193)",
                                "show": false
                            },
                            "tableColumn": "",
                            "targets": [
                                {
                                    "expr": "max(kube_statefulset_metadata_generation{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "",
                                    "refId": "A"
                                }
                            ],
                            "thresholds": "",
                            "title": "Metadata Generation",
                            "tooltip": {
                                "shared": false
                            },
                            "type": "singlestat",
                            "valueFontSize": "80%",
                            "valueMaps": [
                                {
                                    "op": "=",
                                    "text": "0",
                                    "value": "null"
                                }
                            ],
                            "valueName": "current"
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                },
                {
                    "collapse": false,
                    "collapsed": false,
                    "panels": [
                        {
                            "aliasColors": {

                            },
                            "bars": false,
                            "dashLength": 10,
                            "dashes": false,
                            "datasource": "$datasource",
                            "fill": 1,
                            "gridPos": {

                            },
                            "id": 9,
                            "legend": {
                                "alignAsTable": false,
                                "avg": false,
                                "current": false,
                                "max": false,
                                "min": false,
                                "rightSide": false,
                                "show": true,
                                "total": false,
                                "values": false
                            },
                            "lines": true,
                            "linewidth": 1,
                            "links": [

                            ],
                            "nullPointMode": "null",
                            "percentage": false,
                            "pointradius": 5,
                            "points": false,
                            "renderer": "flot",
                            "repeat": null,
                            "seriesOverrides": [

                            ],
                            "spaceLength": 10,
                            "stack": false,
                            "steppedLine": false,
                            "targets": [
                                {
                                    "expr": "max(kube_statefulset_replicas{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "replicas specified",
                                    "refId": "A"
                                },
                                {
                                    "expr": "max(kube_statefulset_status_replicas{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "replicas created",
                                    "refId": "B"
                                },
                                {
                                    "expr": "min(kube_statefulset_status_replicas_ready{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "ready",
                                    "refId": "C"
                                },
                                {
                                    "expr": "min(kube_statefulset_status_replicas_current{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "replicas of current version",
                                    "refId": "D"
                                },
                                {
                                    "expr": "min(kube_statefulset_status_replicas_updated{job=\"kube-state-metrics\", statefulset=\"$statefulset\", cluster=\"$cluster\", namespace=\"$namespace\"}) without (instance, pod)",
                                    "format": "time_series",
                                    "intervalFactor": 2,
                                    "legendFormat": "updated",
                                    "refId": "E"
                                }
                            ],
                            "thresholds": [

                            ],
                            "timeFrom": null,
                            "timeShift": null,
                            "title": "Replicas",
                            "tooltip": {
                                "shared": false,
                                "sort": 0,
                                "value_type": "individual"
                            },
                            "type": "graph",
                            "xaxis": {
                                "buckets": null,
                                "mode": "time",
                                "name": null,
                                "show": true,
                                "values": [

                                ]
                            },
                            "yaxes": [
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": true
                                },
                                {
                                    "format": "short",
                                    "label": null,
                                    "logBase": 1,
                                    "max": null,
                                    "min": null,
                                    "show": true
                                }
                            ]
                        }
                    ],
                    "repeat": null,
                    "repeatIteration": null,
                    "repeatRowId": null,
                    "showTitle": false,
                    "title": "Dashboard Row",
                    "titleSize": "h6",
                    "type": "row"
                }
            ],
            "schemaVersion": 14,
            "style": "dark",
            "tags": [
                "kubernetes-mixin"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "text": "Prometheus",
                            "value": "Prometheus"
                        },
                        "hide": 0,
                        "label": null,
                        "name": "datasource",
                        "options": [

                        ],
                        "query": "prometheus",
                        "refresh": 1,
                        "regex": "",
                        "type": "datasource"
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 2,
                        "includeAll": false,
                        "label": "cluster",
                        "multi": false,
                        "name": "cluster",
                        "options": [

                        ],
                        "query": "label_values(kube_statefulset_metadata_generation, cluster)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "Namespace",
                        "multi": false,
                        "name": "namespace",
                        "options": [

                        ],
                        "query": "label_values(kube_statefulset_metadata_generation{job=\"kube-state-metrics\"}, namespace)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    },
                    {
                        "allValue": null,
                        "current": {

                        },
                        "datasource": "$datasource",
                        "hide": 0,
                        "includeAll": false,
                        "label": "Name",
                        "multi": false,
                        "name": "statefulset",
                        "options": [

                        ],
                        "query": "label_values(kube_statefulset_metadata_generation{job=\"kube-state-metrics\", namespace=\"$namespace\"}, statefulset)",
                        "refresh": 2,
                        "regex": "",
                        "sort": 0,
                        "tagValuesQuery": "",
                        "tags": [

                        ],
                        "tagsQuery": "",
                        "type": "query",
                        "useTags": false
                    }
                ]
            },
            "time": {
                "from": "now-1h",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Kubernetes / StatefulSets",
            "uid": "a31c1f46e6f727cb37c0d731a7245005",
            "version": 0
        }
    kind: ConfigMap
    metadata:
      name: grafana-dashboard-statefulset
      namespace: monitoring
kind: ConfigMapList
